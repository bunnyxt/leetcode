# 13. Roman to Integer

| 题目 | 难度 |
| ---- | ---- |
| [13. Roman to Integer](https://leetcode.com/problems/roman-to-integer/) | Easy |

## 题意

给一个罗马数字字符串，转换成阿拉伯数字。

| 符号 ｜ 数值 |
| - | - |
| I | 1 |
| V | 5 |
| X | 10 |
| L | 50 |
| C | 100 |
| D | 500 |
| M | 1000 |

一般来说，阿拉伯数字从左到右符号从大到小排列叠加，除了以下六种情况会使用“左减”的规则：

- `I`可以放在`V`和`X`左侧来表示`4`和`9`。
- `X`可以放在`L`和`C`左侧来表示`40`和`90`。
- `C`可以放在`D`和`XM`左侧来表示`400`和`900`。

## 分析

普通的字符->数字映射，难点在于处理“左减”的规则。

## 题解1

### 思路

难点在于处理“左减”的规则，实际上只需要做一系列替换，将`IV`替换为`IIII`，将`IX`替换为`VIIII`等，即可所有都使用“右加”规则了。

### 代码

```python
class Solution:
    def romanToInt(self, s: str) -> int:
        d = {
            'I': 1,
            'V': 5,
            'X': 10,
            'L': 50,
            'C': 100,
            'D': 500,
            'M': 1000,
        }
        s = s.replace('IV', 'IIII').replace('IX', 'VIIII').replace('XL', 'XXXX').replace('XC', 'LXXXX').replace('CD', 'CCCC').replace('CM', 'DCCCC')
        n = 0
        for c in s:
            n += d[c]
        return n
```

### 说明

同思路，先对字符串进行替换，再将每个位置的字符对应的数字加在一起就好了。

### 评估

| 时间复杂度 | 空间复杂度 |
| ---- | ---- |
| O(n) | O(1) |

| | 运行时间 | 内存占用 |
| ---- | ---- | ---- |
| 数值 | 40ms | 14.1MB |
| 排名 | 91.78% | 66.56% |

## 总结

其实不用替换也可以自己写一组判断分支也能解决，甚至理论上说效率更高速度更快，但复杂繁琐，代码量大，容易出错。这里的替换方法的代码要简洁得多，也更容易理解。
